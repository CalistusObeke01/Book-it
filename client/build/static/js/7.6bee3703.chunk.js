(this["webpackJsonpbook-it"]=this["webpackJsonpbook-it"]||[]).push([[7],{48:function(e,a,t){"use strict";var n=t(0),l=t.n(n);function r(e){var a=e.children,t=e.defaultBtnColor;return l.a.createElement("button",{className:t},a)}r.defaultProps={defaultBtnColor:"defaultBtn"},a.a=r},73:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(24),o=t(10),m=t(11),c=t(13),s=t(12),i=t(14),u=t(48),p=t(8),d=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),m=0;m<n;m++)l[m]=arguments[m];return(t=Object(c.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(l)))).state={},t.getRole=function(e){return"Admin"===e},t.toArray=function(e){return e.split(",")},t.addUser=function(e){e.preventDefault();try{var a=t.state,n=a.company,l=a.admin,r=a.UserName,o=a.email,m=a.password,c=(n=t.context.user.company,l=t.getRole(l),r),s=sessionStorage.getItem("mx");console.log(s),fetch("/api/users/adminAdd/".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:n,name:c,email:o,password:m,admin:l})}).then((function(e){201===e.status?(alert("Member added Successfully."),t.setState({})):403===e.status?(alert("An account already exists with this email address."),t.setState({})):401===e.status?(alert("You do not have the required permission."),t.setState({})):alert("network error, please try again in a bit")})).catch((function(e){console.log(e)}))}catch(i){alert("Operation failed. Please try again"),console.log(i)}},t.addSpace=function(e){e.preventDefault();try{var a=t.state,n=a.RoomName,l=a.location,r=a.feature,o=a.capacity,m=n,c=(o="".concat(o," seater"),t.toArray(r));c.unshift(o);var s=t.context.user.company;fetch("/api/venue/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:s,name:m,features:c,location:l})}).then((function(e){201===e.status?(alert("Space added Successfully."),t.setState({})):400===e.status?(alert("Error adding space."),t.setState({})):alert("network error, please try again in a bit")})).catch((function(e){console.log(e)}))}catch(i){alert("Operation failed. Please try again"),console.log(i)}},t.uploadSpaceImg=function(e){e.preventDefault();var a=e.target.files[0],t=new FormData;t.append("file",a);try{fetch("/api/venue/upload/",{method:"POST",body:t}).then((function(e){200!=e.status&&console.log(e.json())}))}catch(n){alert("Error! please try again"),console.log(n)}},t.inputChange=function(e){t.setState(Object(r.a)({},e.target.name,e.target.value))},t}return Object(i.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"signUp-section",id:"sign-up"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement("div",null," ",l.a.createElement("p",{className:"signUp-heading lead"},"Add Member")),l.a.createElement("form",{onSubmit:this.addUser},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"InputFullName"},"Full Name"),l.a.createElement("input",{name:"UserName",type:"text",className:"form-control",id:"InputFullName",onChange:this.inputChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"InputEmail"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",id:"InputEmail",name:"email",onChange:this.inputChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"Role"},"Role"),l.a.createElement("select",{className:"form-control",id:"Role",name:"admin",onChange:this.inputChange,required:!0},l.a.createElement("option",null,"Admin"),l.a.createElement("option",null,"Member"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"signInPassword"},"Password"),l.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"signUpPassword",onChange:this.inputChange,required:!0}),l.a.createElement("small",null,"password cannot be changed later")),l.a.createElement(u.a,{type:"submit"},"Add"))),l.a.createElement("div",{className:"col-md-2 form-split"}),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("div",null," ",l.a.createElement("p",{className:"signUp-heading lead"},"Add Space")),l.a.createElement("form",{onSubmit:this.addSpace},l.a.createElement("div",{className:"form-group "},l.a.createElement("label",{htmlFor:"RoomImg"},"Image"),l.a.createElement("input",{name:"RoomImg",type:"file",className:"form-control",id:"RoomImg",accept:"image/*",onChange:this.uploadSpaceImg,plaintext:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"RoomName"},"Name/Tag"),l.a.createElement("input",{name:"RoomName",type:"text",className:"form-control",id:"RoomName",onChange:this.inputChange,required:!0}),l.a.createElement("small",null,"Easily identifiable name/tag by members of your organization")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"RoomLocation"},"Location"),l.a.createElement("input",{name:"location",type:"text",className:"form-control",id:"RoomLocation",onChange:this.inputChange,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"RoomCapacity"},"Capacity"),l.a.createElement("input",{name:"capacity",type:"number",className:"form-control",id:"RoomCapacity",onChange:this.inputChange,required:!0}),l.a.createElement("small",null,"Number of people the space can sit")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"RoomFeatures"},"Features/Facilities"),l.a.createElement("input",{name:"feature",type:"textarea",className:"form-control",id:"RoomFeatures",onChange:this.inputChange,required:!0}),l.a.createElement("small",null,"comma separated list of available features/facilities")),l.a.createElement(u.a,{type:"submit"},"Add")))))}}]),a}(n.Component);d.contextType=p.a;var h=d;a.default=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"pt-5 pb-5"},l.a.createElement("div",null," ",l.a.createElement("h3",{className:"mt-5 text-primary text-center"},"Administration")),l.a.createElement(h,null)))}}}]);
//# sourceMappingURL=7.6bee3703.chunk.js.map