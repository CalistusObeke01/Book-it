(this["webpackJsonpbook-it"]=this["webpackJsonpbook-it"]||[]).push([[7],{48:function(e,a,t){"use strict";var n=t(0),r=t.n(n);function l(e){var a=e.children,t=e.defaultBtnColor;return r.a.createElement("button",{className:t},a)}l.defaultProps={defaultBtnColor:"defaultBtn"},a.a=l},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(24),o=t(11),s=t(12),m=t(14),i=t(13),c=t(15),u=t(48),d=t(8),p=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(r)))).state={},t.getRole=function(e){return"Admin"===e},t.toArray=function(e){return e.split(",")},t.addUser=function(e){if(e.preventDefault(),t.state.ConfirmPassword===t.state.password)try{var a=t.state,n=a.admin,r=a.UserName,l=a.email,o=a.password,s=t.context.user.company;n=t.getRole(n);var m=r,i=sessionStorage.getItem("mx");fetch("/api/users/adminAdd/".concat(i),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:s,name:m,email:l,password:o,admin:n})}).then((function(e){201===e.status?(alert("Member added Successfully."),t.setState({})):403===e.status?(alert("An account already exists with this email address."),t.setState({})):401===e.status?(alert("You do not have the required permission."),t.setState({})):alert("network error, please try again in a bit")})).catch((function(e){console.log(e)}))}catch(c){alert("Operation failed. Please try again"),console.log(c)}else alert("Confirm does not match Password")},t.addSpace=function(e){e.preventDefault();try{var a=t.state,n=a.RoomName,r=a.location,l=a.feature,o=a.capacity,s=n;o="".concat(o," seater");var m=t.toArray(l);m.unshift(o);var i=t.context.user.company;fetch("/api/venue/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:i,name:s,features:m,location:r})}).then((function(e){201===e.status?(alert("Space added Successfully."),t.setState({})):400===e.status?(alert("Error adding space."),t.setState({})):alert("network error, please try again in a bit")})).catch((function(e){console.log(e)}))}catch(c){alert("Operation failed. Please try again"),console.log(c)}},t.uploadSpaceImg=function(e){e.preventDefault();var a=e.target.files[0],t=new FormData;t.append("file",a);try{fetch("/api/venue/upload/",{method:"POST",body:t}).then((function(e){200!==e.status&&console.log(e.json())}))}catch(n){alert("Error! please try again"),console.log(n)}},t.inputChange=function(e){t.setState(Object(l.a)({},e.target.name,e.target.value))},t}return Object(c.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"signUp-section",id:"sign-up"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",null," ",r.a.createElement("p",{className:"signUp-heading lead"},"Add Member")),r.a.createElement("form",{onSubmit:this.addUser},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputFullName"},"Full Name"),r.a.createElement("input",{value:this.state.UserName,name:"UserName",type:"text",className:"form-control",id:"InputFullName",onChange:this.inputChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"InputEmail"},"Email"),r.a.createElement("input",{value:this.state.email,type:"email",className:"form-control",id:"InputEmail",name:"email",onChange:this.inputChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Role"},"Role"),r.a.createElement("select",{value:this.state.admin,className:"form-control",id:"Role",name:"admin",onChange:this.inputChange,required:!0},r.a.createElement("option",null,"Admin"),r.a.createElement("option",null,"Member"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"signInPassword"},"Password"),r.a.createElement("input",{value:this.state.password,name:"password",type:"password",className:"form-control",id:"signUpPassword",onChange:this.inputChange,required:!0}),r.a.createElement("small",null,"password cannot be changed later")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"ConfirmPassword"},"Confirm Password"),r.a.createElement("input",{value:this.state.ConfirmPassword,name:"ConfirmPassword",type:"password",className:"form-control",id:"ConfirmPassword",onChange:this.inputChange,required:!0})),r.a.createElement(u.a,{type:"submit"},"Add"))),r.a.createElement("div",{className:"col-md-2 form-split"}),r.a.createElement("div",{className:"col-md-5"},r.a.createElement("div",null," ",r.a.createElement("p",{className:"signUp-heading lead"},"Add Space")),r.a.createElement("form",{onSubmit:this.addSpace},r.a.createElement("div",{className:"form-group "},r.a.createElement("label",{htmlFor:"RoomImg"},"Image"),r.a.createElement("input",{value:this.state.RoomImg,name:"RoomImg",type:"file",className:"form-control",id:"RoomImg",accept:"image/*",onChange:this.uploadSpaceImg})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"RoomName"},"Name/Tag"),r.a.createElement("input",{value:this.state.RoomName,name:"RoomName",type:"text",className:"form-control",id:"RoomName",onChange:this.inputChange,required:!0}),r.a.createElement("small",null,"Easily identifiable name/tag by members of your organization")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"RoomLocation"},"Location"),r.a.createElement("input",{value:this.state.location,name:"location",type:"text",className:"form-control",id:"RoomLocation",onChange:this.inputChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"RoomCapacity"},"Capacity"),r.a.createElement("input",{value:this.state.capacity,name:"capacity",type:"number",className:"form-control",id:"RoomCapacity",onChange:this.inputChange,required:!0}),r.a.createElement("small",null,"Number of people the space can sit")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"RoomFeatures"},"Features/Facilities"),r.a.createElement("input",{value:this.state.feature,name:"feature",type:"textarea",className:"form-control",id:"RoomFeatures",onChange:this.inputChange,required:!0}),r.a.createElement("small",null,"comma separated list of available features/facilities")),r.a.createElement(u.a,{type:"submit"},"Add")))))}}]),a}(n.Component);p.contextType=d.a;var h=p;a.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"pt-5 pb-5"},r.a.createElement("div",null," ",r.a.createElement("h3",{className:"mt-5 text-primary text-center"},"Administration")),r.a.createElement(h,null)))}}}]);
//# sourceMappingURL=7.9684b405.chunk.js.map