{"version":3,"sources":["components/Button.js","components/AddForms.js","routes/Admin.js"],"names":["Button","children","defaultBtnColor","className","defaultProps","AddForms","state","getRole","ad","toArray","str","split","addUser","e","preventDefault","admin","UserName","email","password","company","context","user","name","uk","sessionStorage","getItem","fetch","method","headers","body","JSON","stringify","then","response","status","alert","setState","catch","err","console","log","error","addSpace","RoomName","location","feature","capacity","features","unshift","uploadSpaceImg","image","target","files","formData","FormData","append","json","inputChange","value","id","onSubmit","this","htmlFor","type","onChange","required","accept","plaintext","Component","contextType","AuthContext","Admin"],"mappings":"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","file":"static/js/7.cdd1cbe1.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nfunction Button({children, defaultBtnColor}) {\r\n    return <button className={defaultBtnColor}>\r\n        {children}\r\n    </button>\r\n}\r\n\r\nButton.propTypes = {\r\n    children: PropTypes.string.isRequired\r\n};\r\n\r\nButton.defaultProps = {\r\n    defaultBtnColor: \"defaultBtn\",\r\n}\r\n\r\n\r\nexport default Button","import React, { Component } from \"react\";\r\nimport Button from \"./Button\";\r\nimport { AuthContext } from \"./AuthContext\";\r\n\r\n// function SignUp()\\\r\nclass AddForms extends Component {\r\n  static contextType = AuthContext;\r\n  state = {};\r\n\r\n  getRole = ad => {\r\n    if (ad === \"Admin\") {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  toArray = (str) =>{\r\n    return str.split(',');\r\n  }\r\n\r\n  addUser = e => {\r\n    e.preventDefault();\r\n    try {\r\n      var {admin, UserName, email, password } = this.state;\r\n      var company = this.context.user.company;\r\n      admin = this.getRole(admin);\r\n      var name = UserName;\r\n      var uk = sessionStorage.getItem('mx')\r\n\r\n      fetch(`/api/users/adminAdd/${uk}`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ company, name, email, password, admin })\r\n      })\r\n        .then(response => {\r\n          if (response.status === 201) {\r\n            alert(\"Member added Successfully.\");\r\n            this.setState({});\r\n          } else if (response.status === 403) {\r\n                   alert(\"An account already exists with this email address.\");\r\n                   this.setState({});\r\n                 } else if (response.status === 401) {\r\n                   alert(\"You do not have the required permission.\");\r\n                   this.setState({});\r\n                 } else {\r\n                   alert(\"network error, please try again in a bit\");\r\n                 }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    } catch (error) {\r\n      alert(\"Operation failed. Please try again\");\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  addSpace = e => {\r\n    e.preventDefault();\r\n    try {\r\n      var { RoomName, location, feature, capacity } = this.state;\r\n      var name = RoomName;\r\n      capacity = `${capacity} seater`;\r\n      var features = this.toArray(feature);\r\n      features.unshift(capacity);  \r\n      var company = this.context.user.company;\r\n      fetch(\"/api/venue/\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ company, name, features, location })\r\n      })\r\n        .then(response => {\r\n          if (response.status === 201) {\r\n            alert(\"Space added Successfully.\");\r\n            this.setState({});\r\n          } else if (response.status === 400) {\r\n            alert(\"Error adding space.\");\r\n            this.setState({});\r\n          } else {\r\n            alert(\"network error, please try again in a bit\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    } catch (error) {\r\n      alert(\"Operation failed. Please try again\");\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  uploadSpaceImg = e => {\r\n    e.preventDefault();\r\n    var image = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"file\", image);\r\n    try {\r\n      fetch(\"/api/venue/upload/\", {\r\n        method: \"POST\",\r\n        body: formData\r\n      }).then(response => {\r\n        if (response.status !== 200) {\r\n          console.log(response.json());\r\n        }\r\n      });\r\n    } catch (error) {\r\n      alert(\"Error! please try again\");\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  inputChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <section className=\"signUp-section\" id=\"sign-up\">\r\n          <div className=\"col-md-5\">\r\n            <div>\r\n              {\" \"}\r\n              <p className=\"signUp-heading lead\">Add Member</p>\r\n            </div>\r\n\r\n            <form onSubmit={this.addUser}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"InputFullName\">Full Name</label>\r\n                <input\r\n                  name=\"UserName\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"InputFullName\"\r\n                  onChange={this.inputChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"InputEmail\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  id=\"InputEmail\"\r\n                  name=\"email\"\r\n                  onChange={this.inputChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"Role\">Role</label>\r\n                <select\r\n                  className=\"form-control\"\r\n                  id=\"Role\"\r\n                  name=\"admin\"\r\n                  onChange={this.inputChange}\r\n                  required\r\n                >\r\n                  <option>Admin</option>\r\n                  <option>Member</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"signInPassword\">Password</label>\r\n                <input\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  id=\"signUpPassword\"\r\n                  onChange={this.inputChange}\r\n                  required\r\n                />\r\n                <small>password cannot be changed later</small>\r\n              </div>\r\n              <Button type=\"submit\">Add</Button>\r\n            </form>\r\n          </div>\r\n          <div className=\"col-md-2 form-split\"></div>\r\n\r\n          <div className=\"col-md-5\">\r\n            <div>\r\n              {\" \"}\r\n              <p className=\"signUp-heading lead\">Add Space</p>\r\n            </div>\r\n\r\n            <form onSubmit={this.addSpace}>\r\n              <div className=\"form-group \">\r\n                <label htmlFor=\"RoomImg\">Image</label>\r\n                <input\r\n                  name=\"RoomImg\"\r\n                  type=\"file\"\r\n                  className=\"form-control\"\r\n                  id=\"RoomImg\"\r\n                  accept=\"image/*\"\r\n                  onChange={this.uploadSpaceImg}\r\n                  plaintext\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"RoomName\">Name/Tag</label>\r\n                <input\r\n                  name=\"RoomName\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"RoomName\"\r\n                  onChange={this.inputChange}\r\n                  required\r\n                />\r\n                <small>\r\n                  Easily identifiable name/tag by members of your organization\r\n                </small>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"RoomLocation\">Location</label>\r\n                <input\r\n                  name=\"location\"\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"RoomLocation\"\r\n                  onChange={this.inputChange}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"RoomCapacity\">Capacity</label>\r\n                <input\r\n                  name=\"capacity\"\r\n                  type=\"number\"\r\n                  className=\"form-control\"\r\n                  id=\"RoomCapacity\"\r\n                  onChange={this.inputChange}\r\n                  required\r\n                />\r\n                <small>Number of people the space can sit</small>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"RoomFeatures\">Features/Facilities</label>\r\n                <input\r\n                  name=\"feature\"\r\n                  type=\"textarea\"\r\n                  className=\"form-control\"\r\n                  id=\"RoomFeatures\"\r\n                  onChange={this.inputChange}\r\n                  required\r\n                />\r\n                <small>\r\n                  comma separated list of available features/facilities\r\n                </small>\r\n              </div>\r\n              <Button type=\"submit\">Add</Button>\r\n            </form>\r\n          </div>\r\n        </section>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddForms;\r\n","import React from \"react\";\r\nimport AddForms from \"../components/AddForms\";\r\n\r\nconst Admin = () => {\r\n  return (\r\n    <>\r\n      <section className=\"pt-5 pb-5\">\r\n        <div>\r\n          {\" \"}\r\n          <h3 className=\"mt-5 text-primary text-center\">Administration</h3>\r\n        </div>\r\n        <AddForms />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n"],"sourceRoot":""}